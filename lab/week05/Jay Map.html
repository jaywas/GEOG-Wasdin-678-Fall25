<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Jay Wasdin's First Web Map</title>

    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link
        rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""
    />

    <style>
        html, body {
            height: 100%;
            margin: 0;
        }
        #map {
            height: 100%;
            width: 100%;
        }
    </style>
</head>
<body>

<div id="map"></div>

<script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
></script>

<script>
 
    var map = L.map('map');

    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: 'Â© OpenStreetMap contributors'
    }).addTo(map);

    map.setView([30.6150, -96.3415], 15);

    map.locate({ setView: true, maxZoom: 16 });

    function onLocationFound(e) {
        var radius = e.accuracy;

        L.marker(e.latlng)
            .addTo(map)
            .bindPopup("You are within " + Math.round(radius) + " meters from this point.")
            .openPopup();

        L.circle(e.latlng, radius).addTo(map);
    }

    function onLocationError(e) {
        alert(e.message);
    }

    map.on('locationfound', onLocationFound);
    map.on('locationerror', onLocationError);


    var kyleFieldLatLng = [30.61025, -96.339844];

    var kyleCircle = L.circle(kyleFieldLatLng, {
        radius: 300,         
        color: 'maroon',
        fillColor: '#800000',
        fillOpacity: 0.35
    }).addTo(map);

    kyleCircle.bindPopup("Kyle Field");

    var omIcon = new L.Icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    var academicIcon = new L.Icon({
        iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-orange.png',
        shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png',
        iconSize: [25, 41],
        iconAnchor: [12, 41],
        popupAnchor: [1, -34],
        shadowSize: [41, 41]
    });

    var omLatLng        = [30.6178, -96.3365]; 
    var academicLatLng  = [30.6150, -96.3425]; 

    L.marker(omLatLng, { icon: omIcon })
        .addTo(map)
        .bindPopup("O&M Building");

    L.marker(academicLatLng, { icon: academicIcon })
        .addTo(map)
        .bindPopup("Academic Building");


    map.on('click', function (e) {
        alert("You clicked the map at\nLatitude: " + e.latlng.lat.toFixed(6) +
              "\nLongitude: " + e.latlng.lng.toFixed(6));
    });
</script>

</body>
</html>
